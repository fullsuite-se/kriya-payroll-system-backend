model Company {
    company_id         String   @id @unique @default(uuid()) @db.Char(36)
    company_name       String
    company_trade_name String
    company_email      String
    company_logo       String   @db.Text
    created_at         DateTime @default(now()) @db.Timestamp(0)
    updated_at         DateTime @default(now()) @db.Timestamp(0)

    managements                         Management[]
    companies_info                      CompanyInfo?
    payrun_notifications                PayrunNotification[]
    employees                           Employee[]
    employee_absences                   EmployeeAbsence[]
    employee_designations               EmployeeDesignation[]
    employee_contributions              EmployeeContribution[]
    employee_salaries                   EmployeeSalary[]
    employee_attendances                EmployeeAttendance[]
    employee_restdays                   EmployeeRestday[]
    employee_overtimes                  EmployeeOvertime[]
    company_monthly_working_days        CompanyMonthlyWorkingDay?
    company_monthly_payroll_frequencies CompanyMonthlyPayrollFrequency?
    employee_leaves                     EmployeeLeave[]
    payslip_drafts                      PayslipDraft[]
    payslips                            Payslip[]
    payruns                             Payrun[]
    company_holidays                    CompanyHoliday[]

    @@map("companies")
}

model CompanyInfo {
    company_info_id String       @id @default(uuid()) @db.Char(36)
    company_id      String       @unique @db.Char(36)
    company_address String
    company_phone   String
    company_tin     String
    business_type   BusinessType @default(SOLE_PROPRIETORSHIP)
    created_at      DateTime     @default(now()) @db.Timestamp(0)
    updated_at      DateTime     @default(now()) @db.Timestamp(0)

    company Company @relation(fields: [company_id], references: [company_id])

    @@map("company_infos")
}

model CompanyMonthlyWorkingDay {
    company_monthly_working_day_id String   @id @default(uuid()) @db.Char(36)
    company_id                     String   @unique @db.Char(36)
    number_of_days                 Int
    created_at                     DateTime @default(now()) @db.Timestamp(0)
    updated_at                     DateTime @default(now()) @db.Timestamp(0)

    company Company @relation(fields: [company_id], references: [company_id])

    @@map("company_monthly_working_days")
}

model CompanyMonthlyPayrollFrequency {
    company_monthly_payroll_frequency_id String   @id @default(uuid()) @db.Char(36)
    company_id                           String   @unique @db.Char(36)
    frequency                            Int
    created_at                           DateTime @default(now()) @db.Timestamp(0)
    updated_at                           DateTime @default(now()) @db.Timestamp(0)

    company Company @relation(fields: [company_id], references: [company_id])

    @@map("company_monthly_payroll_frequencies")
}

model CompanyHoliday {
    company_holiday_id String      @id @default(uuid()) @db.Char(36)
    company_id         String?     @db.Char(36)
    holiday_date       DateTime    @db.Date
    holiday_name       String      @db.VarChar(100)
    holiday_type       HolidayType
    holiday_rate       Decimal?    @db.Decimal(5, 2)
    created_at         DateTime    @default(now()) @db.Timestamp(0)
    updated_at         DateTime    @default(now()) @db.Timestamp(0)

    company Company? @relation(fields: [company_id], references: [company_id])

    @@map("company_holidays")
}
